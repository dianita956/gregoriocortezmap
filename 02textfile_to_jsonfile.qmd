---
code-fold: true
---

# Text file to json file

Web Scrap and extracting list of municipalities, ghost towns, and unincorporated places in Texas.

## List of municipalities in Texas
```{python}
import json
#file to convert
file= f"list of texas places\List of municipalities in Texas.txt"
#create a list to store data
dictionary= {}
municipalitylist = []
#read file
with open(file, encoding='utf-8') as f:
    for d in f:
        if "|" in d:
            #print(d)
            #read lines from file, creating vars based on position and indicator of info needed
            rank, municipality, designation, county, county2, data = d.strip(" ").split("|", 5)
            x={
                "Municipality": municipality,
                #"Designation": designation,
                "Primary County": county,
                "Secondary County(ies)": county2
            }
            municipalitylist.append(x)
            #print(municipalitylist)


dictionary["List of Municipalities"] = municipalitylist

#print(municipalitylist)
#print(dictionary)

#print(len(dictionary))
#create json output file
out_file = open("data/TexasNER_GPE_master.json", "w")
json.dump(dictionary, out_file, indent=4) 
out_file.close()

## List of unincoporated communities 

import json
#file to convert
file= f"list of texas places\List of unincorporated communities in Texas.txt"
#create a list to store data
dictionary= {}
unincorporatedcommunitieslist = []
#read file
with open(file, encoding='utf-8') as f:
    for d in f:
        if "|" in d:
            #print(d)
            #read lines from file, creating vars based on position and indicator of info needed
            community, county, data = d.strip(" ").split("|", 2)
            x={
                "Community": community,
                "Primary County": county
            }
            unincorporatedcommunitieslist.append(x)
            #print(municipalitylist)


dictionary["List of Unincorporated communities"] =  unincorporatedcommunitieslist

#print(municipalitylist)
#print(dictionary)

#print(len(dictionary))
#create json output file
out_file = open("data/TexasNER_GPE_master.json", "a")
json.dump(dictionary, out_file, indent=4) 
out_file.close()

## List of Ghost towns

import json
#file to convert
file= f"list of texas places\List of ghost towns in Texas.txt"
#create a list to store data
dictionary3= {}
ghosttownslist = []
#read file
with open(file, encoding='utf-8') as f:
    for d in f:
        if "|" in d:
            #print(d)
            #read lines from file, creating vars based on position and indicator of info needed
            name, maincounty, data = d.strip(" ").split("|", 2)
            x={
                "Name": name,
                "Main County": maincounty,
            }
            ghosttownslist.append(x)
            #print(municipalitylist)


dictionary["List of Ghost towns"] = ghosttownslist

#print(municipalitylist)
#print(dictionary)

#print(len(dictionary))
#create json output file
out_file = open("data/TexasNER_GPE_master.json", "a")
json.dump(dictionary, out_file, indent=4) 
out_file.close()
```